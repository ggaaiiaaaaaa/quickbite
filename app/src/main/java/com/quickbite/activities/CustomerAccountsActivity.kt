package com.quickbite.activities\n\nimport android.os.Bundle\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport com.google.firebase.firestore.FirebaseFirestore\nimport com.quickbite.adapters.CustomerAccountsAdapter\nimport com.quickbite.databinding.ActivityCustomerAccountsBinding\nimport com.quickbite.models.User\n\nclass CustomerAccountsActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityCustomerAccountsBinding\n    private lateinit var adapter: CustomerAccountsAdapter\n    private val firestore by lazy { FirebaseFirestore.getInstance() }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityCustomerAccountsBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        setupRecyclerView()\n\n        loadCustomers()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        loadCustomers()\n    }\n\n    private fun setupRecyclerView() {\n        adapter = CustomerAccountsAdapter { customer ->\n            // TODO: Handle click to view order history\n            Toast.makeText(this, \"Viewing order history for \${customer.name}\", Toast.LENGTH_SHORT).show()\n        }\n        binding.rvCustomerAccounts.adapter = adapter\n        binding.rvCustomerAccounts.layoutManager = LinearLayoutManager(this)\n    }\n\n    private fun loadCustomers() {\n        firestore.collection(\"users\").whereEqualTo(\"role\", \"customer\").get()\n            .addOnSuccessListener { documents ->\n                val customers = documents.toObjects(User::class.java)\n                adapter.submitList(customers)\n            }\n    }\n}\n